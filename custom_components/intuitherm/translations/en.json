{
  "config": {
    "step": {
      "user": {
        "title": "Hi {user_name}! üëã Welcome to intuiHEMS v{version}",
        "description": "This setup wizard will:\n\nüîç Auto-detect your energy devices\n   ‚Ä¢ Battery systems\n   ‚Ä¢ Solar inverters\n   ‚Ä¢ Grid meters\n\nüìä Find the best sensors to monitor\n   ‚Ä¢ Cumulative energy meters (kWh) - most reliable\n   ‚Ä¢ Battery state of charge (%)\n   ‚Ä¢ Power sensors (kW) - fallback\n\n‚ö° Enable battery optimization\n   ‚Ä¢ Smart charging during cheap hours\n   ‚Ä¢ Maximize solar self-consumption\n   ‚Ä¢ Minimize grid costs\n\nPrerequisites:\n‚Ä¢ Home Assistant Energy Dashboard configured\n‚Ä¢ Battery/Solar/Grid devices integrated\n\nSetup takes ~2 minutes.",
        "data": {
          "user_email": "Email Address (optional)",
          "marketing_consent": "Send me product updates and tips",
          "savings_report_consent": "Send me monthly energy savings reports"
        },
        "data_description": {
          "user_email": "Optional: Receive setup confirmation and important updates",
          "marketing_consent": "Get occasional emails about new features and energy optimization tips (you can unsubscribe anytime)",
          "savings_report_consent": "Receive monthly reports showing your energy cost savings and battery performance (requires email)"
        }
      },
      "show_user_id": {
        "title": "‚úÖ Registration Successful!",
        "description": "Your user ID is:\n\n**{user_id}**\n\n‚ÑπÔ∏è Save this ID for troubleshooting and support.\n\nClick Submit to continue with device detection."
      },
      "auto_detect": {
        "title": "Auto-Detecting Energy Sensors",
        "description": "Scanning your Home Assistant Energy Dashboard and devices...\n\nWe prefer cumulative energy sensors (kWh) because they provide the most reliable data for optimization. The backend will automatically compute power values from these.\n\nThis may take 10-15 seconds."
      },
      "device_discovery": {
        "title": "Discovered Energy Devices",
        "description": "{device_details}\n\nClick Next to proceed to sensor review."
      },
      "review": {
        "title": "Review & Select Sensors",
        "description": "Select sensors from the dropdown or type a custom entity ID.\n\n‚úÖ Cumulative energy sensors (kWh) provide the most reliable data\nüí° You can type any entity ID directly into the dropdown fields",
        "data": {
          "solar_production": "Solar Production Sensor",
          "battery_soc": "Battery State of Charge",
          "battery_charge": "Battery Charge Sensor (Optional)",
          "battery_discharge": "Battery Discharge Sensor (Optional)",
          "grid_import": "Grid Import Sensor (Optional)",
          "grid_export": "Grid Export Sensor (Optional)",
          "house_load": "House Load Sensor (Optional)"
        },
        "data_description": {
          "solar_production": "Select or enter cumulative solar energy production sensor (kWh preferred)",
          "battery_soc": "Select or enter battery charge percentage sensor (0-100%)",
          "battery_charge": "Select or enter energy going INTO battery sensor (kWh preferred)",
          "battery_discharge": "Select or enter energy coming OUT of battery sensor (kWh preferred)",
          "grid_import": "Select or enter cumulative energy imported from grid (kWh preferred)",
          "grid_export": "Select or enter cumulative energy exported to grid (kWh preferred)",
          "house_load": "OPTIONAL - Select or enter house consumption sensor. If not provided, auto-calculated from: Solar + Battery Discharge + Grid Import - Battery Charge - Grid Export"
        }
      },
      "battery_control": {
        "title": "Battery Control Configuration",
        "description": "Configure battery control entities for MPC optimization.\n\n‚ö†Ô∏è  Only configure these if:\n   ‚Ä¢ You want actual battery control (not demo mode)\n   ‚Ä¢ Your battery/inverter supports remote control\n   ‚Ä¢ You understand MPC will send commands to these entities\n\nüí° Leave all fields empty to skip battery control (monitoring only)",
        "data": {
          "battery_mode_select": "Battery Mode Select Entity",
          "battery_charge_power": "Charge Power Control Entity",
          "battery_discharge_power": "Discharge Power Control Entity"
        },
        "data_description": {
          "battery_mode_select": "Select entity to control battery operating mode (e.g., select.work_mode)",
          "battery_charge_power": "Number entity to set charge power limit (e.g., number.force_charge_power)",
          "battery_discharge_power": "Number entity to set discharge power limit (e.g., number.force_discharge_power)"
        }
      },
      "mode_mapping": {
        "title": "Map Battery Operating Modes",
        "description": "Map your device's mode options to standard IntuiTherm modes.\n\nYour device: **{entity}**\nAvailable options: {options}\n\nüí° Select the exact option name from your device for each standard mode:",
        "data": {
          "mode_self_use": "Self Use Mode",
          "mode_backup": "Backup Mode",
          "mode_force_charge": "Force Charge Mode"
        },
        "data_description": {
          "mode_self_use": "Normal operation: use solar, discharge battery when needed",
          "mode_backup": "Preserve battery: minimize discharge, keep for backup",
          "mode_force_charge": "Charge from grid: force battery charging (e.g., during cheap hours)"
        }
      },
      "pricing": {
        "title": "Configure Battery & Pricing",
        "description": "Configure your battery specifications and electricity pricing.\n\nüîã Battery Configuration\n   ‚Ä¢ Enter your actual battery capacity and max power\n   ‚Ä¢ Used for optimization calculations\n\nüí∂ Dynamic Pricing\n   ‚Ä¢ EPEX markup: Additional costs on top of spot price\n\n‚ú® Historic data will be collected automatically on first run",
        "data": {
          "battery_capacity": "Battery Capacity (kWh)",
          "battery_max_power": "Battery Max Power (kW)",
          "epex_markup": "Grid Import Markup (‚Ç¨/kWh)",
          "dry_run_mode": "Dry Run Mode (test without controlling battery)"
        },
        "data_description": {
          "battery_capacity": "Total usable battery capacity in kWh (e.g., 11.0 for an 11 kWh battery)",
          "battery_max_power": "Maximum charge/discharge power in kW (e.g., 2.99 for ~3 kW max)",
          "epex_markup": "Additional cost you pay on top of EPEX spot price (taxes, fees, supplier margin)",
          "dry_run_mode": "Enable to test MPC without sending battery commands"
        }
      }
    },
    "error": {
      "cannot_connect": "Failed to connect to IntuiHEMS service. Please check the service URL and ensure the service is running.",
      "invalid_api_key": "Invalid API key. Please check your API key and try again.",
      "timeout_connect": "Connection timeout. The service took too long to respond. Please check if the service is reachable.",
      "unknown": "Unexpected error occurred. Please check the logs for more details."
    },
    "abort": {
      "already_configured": "This IntuiHEMS service is already configured."
    }
  },
  "options": {
    "step": {
      "init": {
        "title": "Configure IntuiTherm Options",
        "description": "Update your IntuiTherm integration settings.\n\n**Your User ID:** `{user_id}`",
        "data": {
          "battery_capacity_kwh": "Battery Capacity (kWh)",
          "battery_max_power_kw": "Battery Max Power (kW)",
          "battery_soc_entity": "Battery State of Charge (%)",
          "solar_power_entity": "Solar Energy Total (kWh)",
          "house_load_entity": "House Energy Consumption (kWh)",
          "battery_mode_select": "Battery Mode Selector",
          "battery_charge_power": "Charge Power Control",
          "solaredge_command_mode": "SolarEdge Command Mode",
          "mode_self_use": "Self Use Mode Name",
          "mode_backup": "Backup Mode Name",
          "mode_force_charge": "Force Charge Mode Name"
        },
        "data_description": {
          "battery_capacity_kwh": "Total usable battery capacity in kilowatt-hours. This is the amount of energy your battery can store and use. Example: Enter 10 for a 10 kWh battery system.",
          "battery_max_power_kw": "Maximum charging/discharging rate in kilowatts. This limits how fast the battery can charge or discharge. Example: Enter 3 for a 3 kW inverter.",
          "battery_soc_entity": "Sensor showing battery charge percentage (0-100%). Tracks how full your battery currently is. Used to optimize charging decisions.",
          "solar_power_entity": "Cumulative solar energy production sensor (kWh, total_increasing). Tracks total energy generated by your solar panels over time. The system calculates instantaneous power from these readings.",
          "house_load_entity": "Cumulative house energy consumption sensor (kWh, total_increasing). Tracks total energy used by your home. Used to predict consumption patterns and optimize battery usage.",
          "battery_mode_select": "Select entity that controls battery operating mode (e.g., select.work_mode). Enables automatic switching between Self Use, Backup, and Force Charge modes based on optimization. Leave empty for monitoring-only mode.",
          "battery_charge_power": "Number entity to set maximum charging power (e.g., number.force_charge_power). Controls how fast the battery charges during force charge periods. Leave empty if not available.",
          "solaredge_command_mode": "Select SolarEdge command mode. This controls how the inverter controls the battery. Leave empty to use the default mode.",
          "mode_self_use": "Your inverter's option name for Self Use mode. In this mode, solar charges the battery and the battery powers your home, avoiding grid charging. Common names: 'Self Use', 'Self Consumption'.",
          "mode_backup": "Your inverter's option name for Backup/Reserve mode. In this mode, the battery is preserved for emergency backup power. Common names: 'Backup', 'UPS Mode', 'Reserve'.",
          "mode_force_charge": "Your inverter's option name for Force Charge mode. In this mode, the battery actively charges from the grid at the specified power level. Common names: 'Force Charge', 'Grid Charge'."
        }
      }
    }
  },
  "services": {
    "manual_override": {
      "name": "Manual Override",
      "description": "Manually override the battery control mode for a specified duration.",
      "fields": {
        "action": {
          "name": "Action",
          "description": "The control action to execute (e.g., 'force_charge', 'self_use', 'backup')"
        },
        "power_kw": {
          "name": "Power (kW)",
          "description": "Target power setpoint in kW (0-3.0 kW)"
        },
        "duration_minutes": {
          "name": "Duration (minutes)",
          "description": "How long to apply the override (1-1440 minutes)"
        }
      }
    }
  }
}
